---
import DefaultLayout from "../../layouts/DefaultLayout.astro";
import { getEntry } from "astro:content";
import { render } from "astro:content";
import { generateGetStaticIndexPaths } from "../../utils/paths";

export const getStaticPaths = generateGetStaticIndexPaths("[...locale]");
const {
  translations,
  data: { locale },
} = Astro.props;
const { Content: IntroSection } = await render(await getEntry("sections", `${locale}/intro`)!);
const { Content: ProjectsSection } = await render(await getEntry("sections", `${locale}/projects`)!);
const { Content: PostsSection } = await render(await getEntry("sections", `${locale}/posts`)!);
---

<style>
  :global(section) {
    margin-bottom: 5rem;
  }
</style>

<DefaultLayout translations={translations}>
  <IntroSection />
  <ProjectsSection />
  <PostsSection />
</DefaultLayout>
