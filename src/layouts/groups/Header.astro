---
import Brand from "../../components/Brand.astro";
import { C } from "../../configuration";
import { parseLocale } from "../../utils/i18n";
import Search from "../../components/Search.astro";
import Navigation from "../../components/Navigation.astro";
import BurgerButton from "../../components/BurgerButton.astro";
import { prepareNavigation, resolvePath } from "../../utils/paths";

const locale = parseLocale(Astro.params.locale);
const navigation = await prepareNavigation(`main/${locale}`);
---

<header>
  <a href={resolvePath(`${locale === C.DEFAULT_LOCALE ? '' : locale}`)}>
    <Brand />
  </a>
  <Search />
  <Navigation items={navigation} />
  <BurgerButton />
</header>
