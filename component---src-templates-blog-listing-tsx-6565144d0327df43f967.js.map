{"version":3,"file":"component---src-templates-blog-listing-tsx-6565144d0327df43f967.js","mappings":"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","sources":["webpack://r.obin.ch/./src/components/BlogItem.tsx","webpack://r.obin.ch/./src/components/Pagination.tsx","webpack://r.obin.ch/./src/configuration.ts","webpack://r.obin.ch/./src/components/TagList.tsx","webpack://r.obin.ch/./src/templates/BlogListing.tsx"],"sourcesContent":["import { css } from '@emotion/react';\nimport { Link } from 'gatsby';\nimport { GatsbyImage, IGatsbyImageData } from 'gatsby-plugin-image';\nimport { ElementType } from 'react';\nimport { FormattedDate, FormattedTime } from 'react-intl';\n\nconst blogItemStyles = css`\n  margin-bottom: 2rem;\n`;\n\nconst titleContainerStyles = css`\n  display: inline-block;\n  position: relative;\n  margin: 0 -0.5rem;\n  margin-bottom: 0.5rem;\n\n  .gatsby-image-wrapper {\n    user-select: none;\n  }\n`;\n\nconst titleStyles = css`\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background-color: rgba(255, 255, 255, 0.8);\n  margin-bottom: 0;\n  padding: 0.5rem;\n`;\n\nconst metaDataStyles = css`\n  display: flex;\n  margin-bottom: 0.5rem;\n`;\n\ntype BlogItemProps = {\n  excerpt: string;\n  path: string;\n  title: string;\n  publishedAt: string;\n  featured?: IGatsbyImageData;\n  tagList?: JSX.Element;\n  titleAs?: ElementType;\n};\n\nexport function BlogItem({ excerpt, path, title, publishedAt, featured, tagList, titleAs: Title = 'h2' }: BlogItemProps) {\n  return (\n    <div css={blogItemStyles}>\n      <Link to={path} css={featured && titleContainerStyles}>\n        {featured && <GatsbyImage image={featured} alt={title} />}\n        <Title css={featured && titleStyles}>{title}</Title>\n      </Link>\n      <div css={metaDataStyles}>\n        <FormattedDate value={publishedAt} /> <FormattedTime value={publishedAt} />\n        {tagList}\n      </div>\n      {excerpt}\n    </div>\n  );\n}\n","import { Link } from 'gatsby';\nimport { Fragment } from 'react';\nimport { FormattedMessage } from 'react-intl';\n\ntype PaginationProps = {\n  currentPage: number;\n  pageCount: number;\n};\n\nexport function Pagination({ currentPage, pageCount }: PaginationProps) {\n  if (pageCount <= 1) {\n    return null;\n  }\n\n  let newestPath = '';\n  let newerPath = '';\n  let olderPath = '';\n  let oldestPath = '';\n\n  if (currentPage !== 1) {\n    newestPath = `..`;\n  }\n\n  if (currentPage === 2) {\n    newerPath = `../`;\n  } else if (currentPage > 1) {\n    newerPath = `../${currentPage - 2}`;\n  }\n\n  if (currentPage === 1) {\n    olderPath = `./${currentPage}`;\n  } else if (currentPage !== pageCount) {\n    olderPath = `../${currentPage}`;\n  }\n\n  if (currentPage === 1) {\n    oldestPath = `./${pageCount - 1}`;\n  } else if (currentPage !== pageCount) {\n    oldestPath = `../${pageCount - 1}`;\n  }\n\n  return (\n    <Fragment>\n      {newestPath && (\n        <Link to=\"..\">\n          <FormattedMessage id=\"navigation.pagination.newest\" />\n        </Link>\n      )}\n      {newerPath && (\n        <Link to={newerPath}>\n          <FormattedMessage id=\"navigation.pagination.newer\" />\n        </Link>\n      )}\n      {olderPath && (\n        <Link to={olderPath}>\n          <FormattedMessage id=\"navigation.pagination.older\" />\n        </Link>\n      )}\n      {oldestPath && (\n        <Link to={oldestPath}>\n          <FormattedMessage id=\"navigation.pagination.oldest\" />\n        </Link>\n      )}\n    </Fragment>\n  );\n}\n","export const CONFIGURATION = {\n  PATHS: {\n    BLOG: '/blog',\n    MEDIAS: '/medias',\n    PROJECTS: '/projects',\n    TAG: '/tag',\n  },\n  PAGINATION: {\n    ITEMS_PER_PAGE: 10,\n  },\n  REMOTE_PATHS: {\n    VCS: 'https://github.com/openscript/r.obin.ch',\n    EDIT_IN_VCS: 'https://github.com/openscript/r.obin.ch/edit/master',\n  },\n  SOURCES: {\n    LOCAL_DATA: 'content/data',\n  },\n};\n","import { css } from '@emotion/react';\nimport { LocalizedLink } from 'gatsby-plugin-i18n-l10n';\nimport { CONFIGURATION } from '../configuration';\n\nconst tagListStyles = css`\n  display: flex;\n  list-style: none;\n  padding: 0;\n\n  li {\n    margin-left: 1rem;\n    white-space: nowrap;\n  }\n`;\n\ntype TagListProps = {\n  locale?: string;\n  tags?: {\n    slug?: string;\n    title?: string;\n  }[];\n};\n\nexport function TagList({ locale, tags }: TagListProps) {\n  if (!locale) {\n    return null;\n  }\n  return (\n    <ul css={tagListStyles}>\n      {tags?.map(t => (\n        <li>\n          <LocalizedLink to={`${CONFIGURATION.PATHS.TAG}/${t.slug}`}>{t.title}</LocalizedLink>\n        </li>\n      ))}\n    </ul>\n  );\n}\n","import { graphql, PageProps } from 'gatsby';\nimport { FormattedMessage } from 'react-intl';\nimport { BlogListingPageQuery } from '../../graphql-types';\nimport { BlogItem } from '../components/BlogItem';\nimport { Pagination } from '../components/Pagination';\nimport { TagList } from '../components/TagList';\nimport { DefaultLayout } from '../layouts/DefaultLayout';\nimport { PaginationContext } from '../types';\n\nexport default function BlogListing({ data, pageContext }: PageProps<BlogListingPageQuery, PaginationContext>) {\n  return (\n    <DefaultLayout>\n      <h1>\n        <FormattedMessage id=\"page.blog.title\" />\n      </h1>\n      {data.posts.nodes.map(post => {\n        if (!post.fields?.path || !post.frontmatter?.title || typeof post.frontmatter.publishedAt !== 'string') {\n          return null;\n        }\n        const tagList = <TagList locale={post.fields.locale} tags={post.fields.tags} />;\n        return (\n          <BlogItem\n            excerpt={post.excerpt}\n            path={post.fields.path}\n            title={post.frontmatter.title}\n            publishedAt={post.frontmatter.publishedAt}\n            tagList={tagList}\n          />\n        );\n      })}\n      <Pagination currentPage={pageContext.currentPage} pageCount={pageContext.pageCount} />\n    </DefaultLayout>\n  );\n}\n\nexport const query = graphql`\n  query BlogListingPage($locale: String!, $limit: Int!, $skip: Int!) {\n    posts: allMdx(\n      filter: { fields: { kind: { glob: \"blog/**\" }, locale: { eq: $locale } }, frontmatter: { draft: { ne: true } } }\n      sort: { fields: frontmatter___publishedAt, order: DESC }\n      limit: $limit\n      skip: $skip\n    ) {\n      nodes {\n        excerpt\n        fields {\n          locale\n          path\n          tags {\n            slug\n            title\n          }\n        }\n        frontmatter {\n          title\n          publishedAt\n        }\n      }\n    }\n  }\n`;\n"],"names":["blogItemStyles","titleContainerStyles","titleStyles","metaDataStyles","BlogItem","excerpt","path","title","publishedAt","featured","tagList","titleAs","Title","___EmotionJSX","css","Link","to","GatsbyImage","image","alt","FormattedDate","value","FormattedTime","Pagination","currentPage","pageCount","newestPath","newerPath","olderPath","oldestPath","Fragment","FormattedMessage","id","CONFIGURATION","BLOG","MEDIAS","PROJECTS","TAG","tagListStyles","TagList","locale","tags","map","t","LocalizedLink","slug","BlogListing","data","pageContext","DefaultLayout","posts","nodes","post","fields","_post$fields","frontmatter","_post$frontmatter"],"sourceRoot":""}